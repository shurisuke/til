

# issueベース開発を想定した、issue下書き作成メモ

1.	スポット追加の処理設計
スポット追加時には spots, plan_spots, user_spots, tags, user_spot_tags の各テーブルを連続してに扱う必要があると思った。重複チェックやバリデーションも必要。

2.	経路・時間の再計算ロジックのタイミング
スポット追加・削除・位置変更・滞在時間変更・出発地点、帰宅地点変更時に RecalculateAllRoutes のようなサービスオブジェクトを通じて再計算する

3.	地図上のUIフロー
モーダルを使って出発時間などを入力する処理フローを構築し、出発地点が存在しているかどうかで「追加/変更」の切り替えを行う判断処理を実装しようと思った

4.	Issueの責務分離と粒度設計
複雑なIssueは、役割単位に細かく分割し、「スポット追加」「出発地点登録」「InfoWindow表示」などに切り分けることで可読性が上がることを学んだ
あまり一つのissueに責務を詰め込みすぎないようにする

5. Turboで非同期にする方法も少しずつ理解できた
今はまずは同期で作って、あとでTurboを使って部分的に非同期に切り替える方法が良さそう。Turbo Frameを使うとできるらしい。