#　今日のまとめ
今日はアクティブレコードのデータ抽出に関する特訓を終えた後、
卒業制作に着手し始めた。絶対いいアプリにするぞーーー
明日も頑張ります。

1. select, group, having の関係性を整理できた
- selectメソッドで集計関数（例：SUM(payment.amount)）を使う場合、
どのカラムをどの単位で集計するのかを group で指定する必要がある。
- 集計関数の結果で条件を絞りたいときは、whereではなく having句 を使う。


2. whereとhavingの違いを学んだ
- whereは「グループ化前の個別レコード」に対して使う → 集計関数は使えない
- havingは「グループ化後の集計結果」に対して使う → 集計関数・別名が使える


3. only_full_group_by モードによるエラーと対処
- MySQLでは sql_mode=only_full_group_by が有効だと、
- groupに含まれていないカラムはselectできないという制約がある。


4. アソシエーション名とテーブル名の使い分けを理解した
- .joins(:association) には***アソシエーション名（複数形）**を使う
- .select, .where, .group, .order などには**テーブル名（実DB名）**を使う


5. 多段joinsと中間テーブルの活用方法を整理できた
- 中間テーブル（film_categories）やネストされたリレーションも、ActiveRecordで階層的に記述できる。


6. .to_sqlでSQLを確認する習慣が身についた
- ActiveRecordのクエリチェーンの後に .to_sql をつけることで、
生成される実際のSQL文を確認できる。