

# form_with の scope パラメータ
model オプションを使わないとき、scope を指定することで params[:scope][:field] の形でコントローラ側に値が渡る。ログインフォームなどに便利。

# LIKE 検索の SQL と Rails
where('body LIKE ?', "%パスタ%") のように、生SQLライクに部分一致検索が可能。文字列展開が必要なときはシングルクォートではなくダブルクォート。

# スコープの切り出し
モデルに scope :like_body, ->(body) { where('body LIKE ?', "%#{body}%") } のように記述すれば、チェーン可能で DRY な記述が可能。