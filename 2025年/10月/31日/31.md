# 2025-10-30：今日のまとめ
今日はカリキュラムが結構進んだ。
基本的なeachメソッドを使用したときに、戻り値とは想定とは違い、基本的なところも復習したり書籍でもう一度復讐することが必要だと感じた。

# form_with の scope パラメータ
model オプションを使わないとき、scope を指定することで params[:scope][:field] の形でコントローラ側に値が渡る。ログインフォームなどに便利。


# LIKE 検索の SQL と Rails
where('body LIKE ?', "%パスタ%") のように、生SQLライクに部分一致検索が可能。文字列展開が必要なときはシングルクォートではなくダブルクォート。


# スコープの切り出し
モデルに scope :like_body, ->(body) { where('body LIKE ?', "%#{body}%") } のように記述すれば、チェーン可能で DRY な記述が可能。


# ActiveRecord::Relation は「クエリの設計図」
データベースにはまだ問い合わせず、遅延評価されるので .to_a や .each などで初めて実行される。


# each と map の違い
each は副作用のある処理（表示・保存など）を行いたい時に使い、値は返さない。一方、map は 変換後の配列を返す 非破壊的なメソッドで、処理結果を配列として得たいときに便利。

# 三項演算子での条件分岐
condition ? result_if_true : result_if_false
の形で、シンプルに書ける。例えば sentence? ? body : "" で、条件に応じて文字列を返す処理が可能。