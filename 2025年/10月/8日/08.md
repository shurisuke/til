# 2025-10-08：基礎ステップ総復習をさらに深掘り

今日は、Railsを中心にアプリケーション開発に関わる基礎知識を幅広く復習・理解した一日だった。
特に、ActiveRecordやルーティング、セッション管理、Git操作、DockerでのDB構築など、実際の開発環境に即した内容を深く掘り下げた。



## URL(Uniform Resource Locator)
Web上にある、あらゆるリソースが**Web上のどの位置にあるのか**を表したもの
つまりURLはWEBにあるサイトとかホームページとかの住所みたいなもの
例)https://qiita.com

## URI（Uniform Resource Identifier)
Web上にある、**あらゆるリソースを認識するための識別子の総称**
URIはURL等を含むファイル識別子のこと全般を指す親玉みたいなもの
URL=住所,URI=親玉！！！
例)mailto:hello@example.com

## URN（Uniform Resource Name）
**Web上にある、ファイルの名前**のこと
ここでいう名前というのはそのファイル自体の名前ではなく、いわばシリアルナンバーみたいなもの
例)urn:isbn:35488317990



#  ActiveRecordとORMの仕組み

##ORM（Object Relational Mapping）とは、SQLを直接書かずに、RubyのオブジェクトとしてDBを操作できる仕組み。
RailsのモデルはActiveRecordを継承しており、これによってオブジェクト指向的にデータ操作が可能になる。

## 例：ActiveRecordでレコード作成
user = User.new
user.name = "David"
user.occupation = "Code Artist"
user.save

・User.new でオブジェクトを生成（DB未保存）
・user.save で初めてDBへINSERTが実行される
・ActiveRecordが裏でSQLを組み立てるため、SQL文を直接書く必要がない

## ポイント
ORMの「SQLを直接書かずに」という表現は、
「SQLの代わりにRubyのコードでDB操作を抽象化する」という意味。
“代わりに”ではなく“ラップしている”イメージが正確。



# whereメソッドとActiveRecord::Relation

whereメソッドは 即時に配列を返さない。
返ってくるのは ActiveRecord::Relationオブジェクト（遅延評価オブジェクト）。
・実際のSQLは「結果を使うタイミング」で発行される
・.to_a や .each、.pluck などを呼ぶと初めてDBに問い合わせが行われる

## pluckが推奨される理由
・pluck は 指定カラムだけを直接SQLで取得（効率的）
・select は 全カラム＋ActiveRecordオブジェクトを生成（やや重い）



# update / update! の違い

メソッド    成功時       失敗時                             例外発生         想定シーン
update 　　trueを返す   falseを返す                         例外発生しない   通常の更新処理
update!   trueを返す   ActiveRecord::RecordInvalidを発生   例外発生する     トランザクション内など確実に失敗を検知したい時